# ‚è± Time & Events Tracker (Next.js + Zustand)

–ù–∞–≤—á–∞–ª—å–Ω–∏–π –ø—Ä–æ—î–∫—Ç –Ω–∞ **Next.js**, —É —è–∫–æ–º—É —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤—ñ–¥–ª—ñ–∫ —á–∞—Å—É –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–æ–¥—ñ–π
–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **Zustand** —è–∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ state manager.

## –°—Ç–µ–∫

        Next.js
        React
        TypeScript
        Zustand

–ü—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑:

- –¥–∞—Ç–∞–º–∏ —Ç–∞ —á–∞—Å–æ–º (`Date`)
- —Ä—ñ–∑–Ω–∏—Ü–µ—é —á–∞—Å—É –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
- derived state

---

## üöÄ –û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è

–£ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —î **—î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —á–∞—Å—É** (`now`), —è–∫–µ:

- —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ**
- –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É —á–µ—Ä–µ–∑ `setInterval`
- –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É Zustand store

–í—Å—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∞—Å—É –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è **–≤—ñ–¥–Ω–æ—Å–Ω–æ —Ü—å–æ–≥–æ `now`**.

---

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### 1. Zustand store (`timeStore.ts`)

Store –ø–æ–¥—ñ–ª–µ–Ω–∏–π –ª–æ–≥—ñ—á–Ω–æ:

#### Base state

- `now: Date | null` ‚Äî –ø–æ—Ç–æ—á–Ω–∏–π —á–∞—Å (—Ç—ñ–ª—å–∫–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ)
- `timerId` ‚Äî id —Ç–∞–π–º–µ—Ä–∞

#### Derived state

- `diffFrom(date: Date)` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ `now` —ñ –ø–µ—Ä–µ–¥–∞–Ω–æ—é –¥–∞—Ç–æ—é —É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö

#### Actions

- `start()` ‚Äî –∑–∞–ø—É—Å–∫–∞—î —Ç–∞–π–º–µ—Ä
- `stop()` ‚Äî –∑—É–ø–∏–Ω—è—î —Ç–∞–π–º–µ—Ä

```ts
diffFrom: (date) => {
  const now = get().now;
  return now ? now.getTime() - date.getTime() : null;
};
```

## Countdown page / component

        –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ store
        –∑–∞–ø—É—Å–∫–∞—î —Ç–∞–π–º–µ—Ä —á–µ—Ä–µ–∑ start() —É useEffect
        –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∞—Å—É
        –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –∑ –≥–æ—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑—ñ store
        –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ hydration error:
        —Ä–µ–Ω–¥–µ—Ä –±–ª–æ–∫—É—î—Ç—å—Å—è, –ø–æ–∫–∏ now === null

## ConvertTime component

        ConvertTime ‚Äî —Ü–µ —á–∏—Å—Ç–∏–π UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è–∫–∏–π:
        –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ ms: number
        –Ω–µ –∑–Ω–∞—î –Ω—ñ—á–æ–≥–æ –ø—Ä–æ Date
        –Ω–µ –∑–Ω–∞—î, —Ü–µ –º–∏–Ω—É–ª–µ —á–∏ –º–∞–π–±—É—Ç–Ω—î
        –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ –∑ –≤—ñ–¥ º—î–º–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ (Math.abs)
        –ª–∏—à–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É
